# ğŸ“ Folder Purpose Guide

## Overview

This guide explains the purpose and logic behind each directory in the mental health LLM evaluation project. Following this structure ensures consistency, eliminates confusion, and makes the codebase maintainable.

---

## ğŸ”§ Configuration: Two Types, Two Places

### `/config/` - Configuration DATA Files
**Purpose**: Static configuration values and settings
**Contains**: YAML and JSON files with actual configuration data

```
config/
â”œâ”€â”€ main.yaml                     # Main project configuration
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ model_settings.yaml       # Model-specific settings
â”‚   â””â”€â”€ local_experiment.yaml     # Local testing configurations
â””â”€â”€ scenarios/
    â”œâ”€â”€ main_scenarios.yaml       # Primary evaluation scenarios
    â”œâ”€â”€ anxiety_scenarios.yaml    # Anxiety-specific scenarios
    â”œâ”€â”€ depression_scenarios.yaml # Depression-specific scenarios
    â””â”€â”€ [other scenario files]
```

**What goes here**: 
- Model parameters (temperature, max_tokens)
- Evaluation weights and thresholds
- Scenario definitions
- System prompts
- API endpoints and timeouts

### `/src/config/` - Configuration CODE Modules
**Purpose**: Python code that loads, validates, and manages configuration
**Contains**: Python modules with configuration logic

```
src/config/
â”œâ”€â”€ __init__.py                   # Package exports
â”œâ”€â”€ config_loader.py              # Loads YAML/JSON configurations
â”œâ”€â”€ config_schema.py              # Validates configuration structure
â””â”€â”€ config_utils.py               # Configuration utility functions
```

**What goes here**:
- Configuration loading logic
- Data validation schemas
- Environment variable resolution
- Configuration merging utilities
- Type safety and error handling

### Why This Separation?
- **Separation of Concerns**: Data vs. Logic
- **Easy Modification**: Change settings without touching code
- **Type Safety**: Python validation for YAML data
- **Reusability**: Same code can load different config files
- **Standard Practice**: Common in enterprise Python projects

---

## ğŸ“Š Results: Single Output Location

### `/results/` - ALL Program Outputs
**Purpose**: Unified location for all evaluation outputs and research products
**Philosophy**: One place to find everything the system generates

```
results/
â”œâ”€â”€ evaluations/           # Raw evaluation data and scores
â”œâ”€â”€ reports/              # Human-readable research reports
â”œâ”€â”€ statistics/           # Statistical analysis results
â”œâ”€â”€ visualizations/       # Charts, graphs, and visual outputs
â”œâ”€â”€ conversations/        # Generated model conversations
â””â”€â”€ development/          # Development and testing outputs
```

#### `/results/evaluations/`
**Contains**: Raw evaluation results and model performance data
- `detailed_results.json` - Complete evaluation data with scores
- `model_strengths.json` - Model strength analysis
- Timestamped evaluation runs

#### `/results/reports/`
**Contains**: Human-readable research reports and summaries
- `research_report.txt` - Main research findings
- Statistical analysis summaries
- Executive summaries for presentations

#### `/results/statistics/`
**Contains**: Statistical analysis outputs
- `statistical_analysis.json` - Statistical test results
- Significance tests and effect sizes
- Comparative analysis data

#### `/results/visualizations/`
**Contains**: Charts, graphs, and visual representations
- `charts/` - Individual comparison charts
- `presentation/` - Presentation-ready slides
- Summary visualization files

#### `/results/conversations/`
**Contains**: Generated conversations between users and models
- Individual conversation files (JSON format)
- Conversation metadata and context
- Evaluation conversation logs

#### `/results/development/`
**Contains**: Development and testing outputs
- Quick test results
- Development evaluation runs
- Experimental outputs
- Debug information

### Why This Structure Makes Sense

#### 1. **Unified Output Location**
- **Single source of truth** for all program outputs
- **Easy backup and archiving**: `tar -czf results.tar.gz results/`
- **Clear ownership**: Everything in `results/` is generated by the system

#### 2. **Logical Categorization**
- **Purpose-based organization**: Files grouped by what they contain, not how they're generated
- **Clear hierarchy**: Major categories with logical subdivisions
- **Intuitive navigation**: Easy to find specific types of outputs

#### 3. **Development vs. Production**
- **`results/development/`**: Clearly separates test outputs from real research
- **Command usage**: `--output results/development/` for testing
- **Easy cleanup**: Can delete development outputs without affecting research

#### 4. **Scalable and Maintainable**
- **Consistent patterns**: All outputs follow same organizational logic
- **Easy automation**: Scripts know exactly where to put files
- **Clear responsibilities**: Each directory has a single, well-defined purpose

---

## ğŸ—‚ï¸ Other Important Directories

### `/data/` - Static Input Data
**Purpose**: Immutable input data and resources
**Contains**: Scenario files, reference data, static datasets

### `/src/` - Source Code
**Purpose**: All Python source code modules
**Contains**: Core evaluation logic, model interfaces, analysis tools

### `/temp/` - Temporary Files
**Purpose**: Short-lived files that can be safely deleted
**Contains**: Cache files, intermediate processing results, temporary downloads
**Cleanup**: Can be cleared with `rm -rf temp/` without losing important data

### `/scripts/` - Executable Scripts
**Purpose**: Command-line tools and automation scripts
**Contains**: Research runner, model comparison tools, setup utilities

---

## ğŸ¯ Usage Guidelines

### For Development
```bash
# Use development directory for testing
python scripts/run_research.py --output results/development/

# Quick cleanup of test outputs
rm -rf results/development/*
```

### For Production Research
```bash
# Default output goes to appropriate results subdirectories
python scripts/run_research.py

# Results automatically organized:
# results/evaluations/ - Raw data
# results/reports/ - Research reports
# results/statistics/ - Analysis
# results/visualizations/ - Charts
```

### For Configuration Changes
```bash
# Edit configuration data
nano config/main.yaml

# Configuration code handles loading automatically
# No code changes needed for setting adjustments
```

---

## ğŸš« What NOT to Do

### âŒ Don't Put Outputs in Multiple Places
- Don't save results to both `results/` and custom directories
- Don't create new top-level output directories
- Use `results/development/` for testing, not separate folders

### âŒ Don't Mix Configuration Types
- Don't put Python code in `/config/`
- Don't put YAML files in `/src/config/`
- Keep data and logic separate

### âŒ Don't Bypass the Structure
- Don't hardcode paths like `./my_results/`
- Use the paths module: `from src.utils.paths import get_conversations_dir`
- Let the system organize files automatically

---

## ğŸ”„ Migration and Maintenance

### When Adding New Output Types
1. **Determine category**: Does it fit in existing subdirectories?
2. **Update paths module**: Add new path methods if needed
3. **Update configuration**: Add path settings to `config/main.yaml`
4. **Document purpose**: Update this guide

### When Changing Structure
1. **Create migration script**: Safely move existing data
2. **Update all references**: Code, configs, and documentation
3. **Test thoroughly**: Verify nothing breaks
4. **Update this guide**: Keep documentation current

---

## ğŸ‰ Benefits of This Structure

### For Developers
- **Clear expectations**: Know exactly where files belong
- **Easy navigation**: Find outputs quickly
- **Consistent patterns**: Same organization everywhere
- **Reduced confusion**: No more "where should this go?"

### For Researchers
- **Organized results**: All outputs in logical categories
- **Easy sharing**: Clear structure for collaborators
- **Reliable automation**: Scripts always put files in right places
- **Professional presentation**: Clean, organized research outputs

### For System Maintenance
- **Predictable structure**: Easy to write backup/cleanup scripts
- **Clear ownership**: Know what's safe to delete
- **Scalable design**: Structure grows naturally with project
- **Documentation**: This guide prevents future confusion

---

**Remember**: When in doubt, check this guide or use the paths module to get the correct directory. The structure is designed to be intuitive and self-documenting.